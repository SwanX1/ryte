<div class="card delete-account-card">
  <div class="delete-account-header">
    <h1>Delete Account</h1>
    <div class="warning-icon">⚠️</div>
  </div>
  
  <div class="delete-account-warning">
    <h2>This action cannot be undone</h2>
    <p>This will permanently delete your account and remove all your data from our servers. This includes:</p>
    <ul>
      <li>All your posts and comments</li>
      <li>Your profile information</li>
      <li>Your likes and follows</li>
      <li>All associated data</li>
    </ul>
    <p><strong>This action is irreversible.</strong></p>
  </div>

  {{#if error}}
    <div class="error">{{error}}</div>
  {{/if}}

  <form action="/profile/delete" method="POST" class="delete-account-form">
    <div class="form-group">
      <label for="password">Enter your password to confirm</label>
      <input type="password" id="password" name="password" required>
      <small>This is required to confirm you want to delete your account.</small>
    </div>
    
    <div class="form-group">
      <label class="checkbox-label">
        <input type="checkbox" id="confirm-delete" name="confirm-delete" required>
        <span class="checkmark"></span>
        I understand that this action is permanent and cannot be undone
      </label>
    </div>
    
    <div class="form-actions">
      <a href="/profile/{{user.id}}" class="btn btn-secondary">Cancel</a>
      <button type="submit" class="btn btn-danger" id="delete-btn" disabled>Delete My Account</button>
    </div>
  </form>
</div>

<script>
  // Enable delete button only when checkbox is checked
  document.getElementById('confirm-delete').addEventListener('change', function() {
    const deleteBtn = document.getElementById('delete-btn');
    deleteBtn.disabled = !this.checked;
  });

  // Confirm deletion on form submit
  document.querySelector('.delete-account-form').addEventListener('submit', function(e) {
    if (!confirm('Are you absolutely sure you want to delete your account? This action cannot be undone.')) {
      e.preventDefault();
    }
  });
</script> 